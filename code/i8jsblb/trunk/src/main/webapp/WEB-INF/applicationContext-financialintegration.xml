<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	     xmlns:tx="http://www.springframework.org/schema/tx"
	     xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.0.xsd
           http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.0.xsd">


	  <bean id="switchUtilityMappingDAO" class="com.inov8.microbank.server.dao.switchutilitymappingmodule.hibernate.SwitchUtilityMappingHibernateDAO">
    	<property name="sessionFactory" ref="sessionFactory"/>
	  </bean>



	<bean id="financialIntegrationManager" class="com.inov8.microbank.server.service.financialintegrationmodule.FinancialIntegrationManagerImpl">
		<property name="genericDao">
			<ref bean="genericHibernateDAO"/>
		</property>
	</bean>
	
	
   <bean id="abstractFinancialInstitution" abstract="true" class="com.inov8.microbank.server.service.financialintegrationmodule.AbstractFinancialInstitution">
		<constructor-arg index="0" ref="switchController"/>
		<constructor-arg index="1" ref="genericHibernateDAO"/>
  </bean>
   
  <bean id="com.inov8.microbank.server.service.financialintegrationmodule.VeriflyFinancialInstitutionImpl" class="com.inov8.microbank.server.service.financialintegrationmodule.VeriflyFinancialInstitutionImpl" parent="abstractFinancialInstitution">
  	<property name="veriflyManagerService">
		<ref bean="veriflyController"/>
	</property>
  </bean> 
   
  <bean id="com.inov8.microbank.server.service.financialintegrationmodule.IrisFinancialInstitutionImpl" class="com.inov8.microbank.server.service.financialintegrationmodule.IrisFinancialInstitutionImpl" parent="abstractFinancialInstitution">
	<property name="switchModuleManager">
	    <ref bean="switchManager"/>
	</property>
  </bean> 

  <bean id="com.inov8.microbank.server.service.financialintegrationmodule.PhoenixFinancialInstitutionImpl" class="com.inov8.microbank.server.service.financialintegrationmodule.PhoenixFinancialInstitutionImpl" parent="abstractFinancialInstitution">
	<property name="switchModuleManager">
	    <ref bean="switchManager"/>
	</property>
	<property name="veriflyManagerService">
		<ref bean="veriflyController"/>
	</property>
	<property name="accountTypeManager">
		<ref bean="accountTypeManager"/>
	</property>
	<property name="currencyCodeManager">
		<ref bean="currencyCodeManager"/>
	</property>
		<property name="stakeholderBankInfoManager">
		<ref bean="stakeholderBankInfoManager"/>
	</property>
  </bean> 
  
  <bean id="phoenixFinancialInstitution" class="com.inov8.microbank.server.service.financialintegrationmodule.PhoenixFinancialInstitutionImpl" parent="abstractFinancialInstitution">
	<property name="switchModuleManager">
	    <ref bean="switchManager"/>
	</property>
	<property name="veriflyManagerService">
		<ref bean="veriflyController"/>
	</property>
	<property name="accountTypeManager">
		<ref bean="accountTypeManager"/>
	</property>
	<property name="currencyCodeManager">
		<ref bean="currencyCodeManager"/>
	</property>
		<property name="stakeholderBankInfoManager">
		<ref bean="stakeholderBankInfoManager"/>
	</property>
  </bean>
  
  <bean id="com.inov8.microbank.server.service.financialintegrationmodule.OLAVeriflyFinancialInstitutionImpl" class="com.inov8.microbank.server.service.financialintegrationmodule.OLAVeriflyFinancialInstitutionImpl" parent="com.inov8.microbank.server.service.financialintegrationmodule.VeriflyFinancialInstitutionImpl">
  <property name="stakeholderBankInfoManager">
		<ref bean="stakeholderBankInfoManager"/>
	</property>	

	<property name="genericDao">
		<ref bean="genericHibernateDAO"/>
	</property>
	
	<property name="smartMoneyAccountManager">
		<ref bean="smartMoneyFacade"/>
	</property>	

	<property name="appUserManager">
      <ref bean="securityFacade"/>
    </property>
    
	<property name="veriflyManager">
      <ref bean="vfVeriflyManager"/>
    </property>

    <property name="commissionManager">
      <ref bean="commissionFacade"/>
    </property>
	    
  </bean> 


  <bean id="switchUtilityMappingManager" parent="baseTransactionProxy">
	<property name="target">
	  <bean class="com.inov8.microbank.server.service.switchutilitymappingmodule.SwitchUtilityMappingManagerImpl">
		<property name="genericDao">
			<ref bean="genericHibernateDAO"/>
		</property>
		<property name="switchUtilityMappingDAO">
			<ref local="switchUtilityMappingDAO"/>
		</property>
		</bean>	
	</property>
  </bean> 

	<bean id="switchUtilityMappingFacade" class="com.inov8.microbank.server.facade.SwitchUtilityMappingFacade">
		<property name="switchUtilityMappingManager" ref="switchUtilityMappingManager"/>
		<property name="frameworkExceptionTranslator" ref="frameworkExceptionTranslator"/>
	</bean>



</beans>