<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
	  xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:authz="http://acegisecurity.org/authz"
      >
<h:head>
<link rel="stylesheet" href="#{request.contextPath}/styles/wizard_style.css" type="text/css" />
<link rel="stylesheet" href="#{request.contextPath}/styles/tpc.css" type="text/css" />
<link rel="stylesheet" href="#{request.contextPath}/styles/style_js.css" type="text/css" />
<meta name="title" content="Add Agent" />
 <style>
.col {
    width: 33%;
}
.centercol {
    width: 33%;
    text-align: center;
}

.tooltip {
        background-color:#f5f6fa;
        border-width:1px;
        border-color: Gray;
        height:8px;
        }
       

        
</style>
<script type="text/javascript" src="#{request.contextPath}/scripts/commonFormValidator.js"></script>
<script type="text/javascript" src="#{request.contextPath}/scripts/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" language="javascript">
    	var jq = jQuery.noConflict();
		jq(document).ready(function() 
		{
			var message = document.getElementById("myform:infoMessage").innerHTML;
	    	if(message != "")
	    	{
	    		document.getElementById("status_bar_bottom").focus();
	    	}
	    	else if(message == "")
	    	{
	    		if(document.getElementById("myform:error_cont") == null)
	    		{
	    			document.getElementById("myform:distributors").focus();
	    		}
	    		else
	    		{
	    			document.getElementById("myform:error_cont").focus();
	    		}
	    	}

			var hasReadOnlyRights = #{!agentActionBean.securityCheck and !agentActionBean.editSecurityCheck};
			if( hasReadOnlyRights )
			{
				jq("#content_wrap").find("input, textarea, button, select, img").attr("disabled", true);
				jq("#content_wrap").find("img").removeAttr("onclick");
			}
		});
		
	    function openAreaNameHierarchy()
	    {
	    	var areaHierarchyError = document.getElementById("myform:areaHierarchyError").value;
	    	if(areaHierarchyError.match("false"))
	   		{
	    		var settings="help:no;status:no;maximize:no;minimize:no;dialogHeight:455px;dialogWidth:600px;edge:sunken;scroll:no;center:yes;resizable:no";
	       	   	var returnValue = window.showModalDialog("areaNameHierarchy.faces", "",settings);
	       	   	if(returnValue == 'Success')
	       	   	{
	       	   		document.getElementById("myform:refresher").click();
	       	   	}
	       	   	else
	       	   	{
	       	   		document.getElementById("myform:clearNodeSelection").click();
	       	   	}
	   		}
		}
	    
	    function openSaleUserHierarchy()
	    {
	    	var saleUserHierarchyError = document.getElementById("myform:saleUserHierarchyError").value;
	    	if(saleUserHierarchyError.match("false"))
	    	{
	    		var settings="help:no;status:no;maximize:no;minimize:no;dialogHeight:455px;dialogWidth:600px;edge:sunken;scroll:no;center:yes;resizable:no";
	       	   	var returnValue = window.showModalDialog("saleUserHierarchy.faces", "",settings);
	       	   	if(returnValue == 'Success')
	       	   	{
	       	   		document.getElementById("myform:saleHierarchyRefresher").click();
	       	   	}
	       	   	else
	       	   	{
	       	   		document.getElementById("myform:clearSaleHierarchyNodeSelection").click();
	       	   	}
	    	}
	    }
	    
    </script>

</h:head>
<h:body>
<f:view>
  
	<f:event type="preRenderView"  listener="#{agentActionBean.clearAllSessionObjects}"></f:event>  
	<h:form id="myform">
		
		
		<a4j:commandButton id="refresher" style="display:none;" actionListener="#{agentActionBean.reRenderFields}" render="areaName, areaId" />
		<a4j:commandButton id="clearNodeSelection" style="display:none;" actionListener="#{agentActionBean.clearNodeSelection}" />
		
		<a4j:commandButton id="saleHierarchyRefresher" style="display:none;" actionListener="#{agentActionBean.reRenderSaleHierarchyFields}" render="saleUserName saleUserId" />
		<a4j:commandButton id="clearSaleHierarchyNodeSelection" style="display:none;" actionListener="#{agentActionBean.clearSaleHierarchyNodeSelection}" />
		
		<div id="wizard_group"> 
    		<table width="100%" border="0" cellspacing="0" cellpadding="0">
                <tr>
	                <td id="header_wizard">
	                	<h1>
	                		<h:outputText value="Add Agent" rendered="#{!agentActionBean.agentFormModel.editMode and (agentActionBean.securityCheck or agentActionBean.editSecurityCheck)}" />
	                		<h:outputText value="View Agent" rendered="#{!agentActionBean.securityCheck and !agentActionBean.editSecurityCheck}" />		
	                 		<h:outputText value="Edit Agent" rendered="#{agentActionBean.agentFormModel.editMode and (agentActionBean.securityCheck or agentActionBean.editSecurityCheck)}" />
	                 	</h1></td>
	                
                </tr>
            	<tr>
                	<td>
                        <div id="status_bar_top">
                        	<table width="100%" border="0" cellspacing="0" cellpadding="0">
                                <tr>
                                  <td width="70%" valign="top" align="left">&nbsp;
                                  </td>
                                  <td width="30%" valign="top" align="right">
                                  	<a4j:outputPanel id="icons_div" styleClass="icons_div" style="display:block;float:right;" >
                                        <!-- <a4j:commandLink actionListener="#{agentActionBean.clearAgentForm}" rendered="#{!agentActionBean.agentFormModel.editMode}" 
                                            disabled="#{!agentActionBean.securityCheck and !agentActionBean.editSecurityCheck}" id="clearAgentForm" title="Clear"
                                            render="landLineNo, contactNo, cnicExpiryDate, cnicNo, ntnNo, nearestLandmark, ntnNumber, postOffice, cityVillage, districtTehsilTown, 
                                                        marketPlaza, shopNo, natureOfBusiness, businessName, mobileNo, accountOpeningDate, zongMsisdn, applicationNo, confirmPassword, 
                                                        password, partnerGroup, userName, lastName, firstName, isActive, name, comments, areaId, areaName, agentLevels, description, 
                                                        retailers, regions, productCatalog, distributors, accountType, saleUserName, saleUserId">
                                             <h:graphicImage url="/images/ah_images/icon_clear.png" />
                                        </a4j:commandLink> -->
                                    </a4j:outputPanel>
                                  </td>
                              </tr>
                            </table>
                        </div>
                        
                        <div class="clear"></div>
                    </td>
                </tr>
            	
                <tr>
                	<td >
                    	<div id="content_wrap" >
                            <div class="error_text_red">
                                <a4j:outputPanel ajaxRendered="true">
                                     <a4j:outputPanel id="error_cont" styleClass="error_cont" rendered="#{! empty facesContext.maximumSeverity}">
                                         <a4j:outputPanel>
                                             <a4j:outputPanel styleClass="error_txt" >
                                                 <h:messages id="errors" globalOnly="true" />
                                             </a4j:outputPanel>
                                         </a4j:outputPanel>
                                     </a4j:outputPanel>                
                                </a4j:outputPanel>
                            </div>
                            
                            <fieldset>
                              <legend>Retailer Information</legend>
                                
                                <table width="" border="0" align="center" cellpadding="0" cellspacing="10">
                                      <tr>
                                        <td width="170" valign="top">Agent Network Name <span class="asterisk">*</span>:</td>
                                        <td width="200" align="left">
                                        	<h:selectOneMenu id="distributors" styleClass="type_list" title="Agent Network Name" value="#{agentActionBean.agentFormModel.distributorId}"
                                        		disabled="#{agentActionBean.agentFormModel.editMode and agentActionBean.agentFormModel.rso}">
                                                <f:selectItem itemLabel="[select]" itemValue="-1" />
                                                <f:selectItems value="#{agentActionBean.distributors}" />
                                                <a4j:ajax event="change" listener="#{agentActionBean.onChangeDistributor}" 
                                                    render="regions retailers agentLevels areaId areaName isActive distributors" />
                                          	</h:selectOneMenu>
                                        </td>
                                        
                                        <td width="40" align="left">&nbsp;</td>
                                        <td width="170" valign="top">Product Catalog <span class="asterisk">*</span>:</td>
                                        <td width="200" align="left">
                                        	<h:selectOneMenu id="productCatalog" styleClass="type_list" title="Product Catalog" value="#{agentActionBean.agentFormModel.productCatalogId}" >
                                                <f:selectItem itemLabel="[select]" itemValue="-1" />
                                                <f:selectItems value="#{agentActionBean.productCatalogs}"/>
                                          </h:selectOneMenu>
                                        </td>
                                        
                                        
                                  </tr>
                                      <tr>
                                        <td width="170" valign="top">Region <span class="asterisk">*</span>:</td>
                                        <td width="200" align="left">
                                        	<h:selectOneMenu id="regions" styleClass="type_list" title="Region" value="#{agentActionBean.agentFormModel.regionId}" 
                                        		disabled="#{agentActionBean.agentFormModel.editMode and agentActionBean.agentFormModel.rso}">
                                                <f:selectItem itemLabel="[select]" itemValue="-1" />
                                                <f:selectItems value="#{agentActionBean.regions}"/>
                                                <a4j:ajax event="change" listener="#{agentActionBean.onChangeRegion}" render="retailers agentLevels areaId areaName isActive regions" />
                                          </h:selectOneMenu>
                                        </td>
                                        <td width="40" align="left">&nbsp;</td>
                                        <td valign="middle">Sale User <span class="asterisk">*</span>:</td>
                                        <td align="left">
                                        	<h:inputText readonly="true" id="saleUserName" title="Sale User Name" value="#{agentActionBean.agentFormModel.saleUserName}" styleClass="type_lookup_txt"
                                        		disabled="#{agentActionBean.agentFormModel.editMode and agentActionBean.agentFormModel.rso}" />
                                                <h:graphicImage url="/images/ah_images/lookup_22.png" style="cursor:pointer;border: 0px;" title="Tag Sale User" >
                                                  <a4j:ajax event="click" listener="#{agentActionBean.loadSaleUserHierarchy}" oncomplete="openSaleUserHierarchy();" render="saleUserHierarchyError" 
                                                  	disabled="#{agentActionBean.agentFormModel.editMode and agentActionBean.agentFormModel.rso}" />
                                                </h:graphicImage>
                                            <h:inputHidden id="saleUserId" value="#{agentActionBean.agentFormModel.saleUserId}" />
                                            <h:inputHidden id="saleUserHierarchyError" value="#{agentActionBean.saleUserHierarchyError}" />
                                        </td>
                                  </tr>
                                      <tr>
                                        <td valign="top">Franchise/Branch <span class="asterisk">*</span>:</td>
                                        <td width="200" align="left">
                                        	<h:selectOneMenu id="retailers" styleClass="type_list" title="Franchise/Branch" value="#{agentActionBean.agentFormModel.retailerId}"
                                        		disabled="#{agentActionBean.agentFormModel.editMode and agentActionBean.agentFormModel.rso}" >
                                                <f:selectItem itemLabel="[select]" itemValue="-1" />
                                                <f:selectItems value="#{agentActionBean.retailers}"/>
                                                <a4j:ajax event="change" listener="#{agentActionBean.onChangeFranchise}" render="agentLevels areaId areaName isActive partnerGroup parentAgents retailers" />
                                          </h:selectOneMenu>
                                        </td>
                                        <td width="40" rowspan="2" align="left">&nbsp;</td>
                                        <td width="170" rowspan="2" valign="top">Description:</td>
                                        <td width="200" rowspan="2" align="left">
                                        	<h:inputTextarea id="description" value="#{agentActionBean.agentFormModel.description}" title="Description" rows="3" 
                                            onkeypress="return maskCommon(this,event)" onkeyup="textAreaLengthCounter(this,250);"	style="width:190px;" styleClass="type_txt" >
                                          </h:inputTextarea>
                                        </td>
                                  </tr>
                                      
                                      <tr>
                                        <td width="170" valign="top">Agent Levels <span class="asterisk">*</span>:</td>
                                        <td width="200" align="left">
                                        	<h:selectOneMenu id="agentLevels" styleClass="type_list" title="Agent Levels" 
                                        		value="#{agentActionBean.agentFormModel.distributorLevelId}" disabled="#{agentActionBean.agentFormModel.editMode and agentActionBean.agentFormModel.rso}">
                                                <f:selectItem itemLabel="[select]" itemValue="-1" />
                                                <f:selectItems value="#{agentActionBean.agentLevels}"/>
                                                <a4j:ajax event="change" listener="#{agentActionBean.onChangeAgentLevel}" execute="@this isRso" render="parentAgents areaId areaName isRso isActive agentLevels partnerGroup retailers" />
                                          	</h:selectOneMenu>
                                        </td>
                                  </tr>
                                      <tr>
                                        <td valign="top">Parent Agents <span class="asterisk">*</span>:</td>
                                        <td width="200" align="left">
                                        	<h:selectOneMenu id="parentAgents" styleClass="type_list" title="Parent Agent" value="#{agentActionBean.agentFormModel.parentRetailerContactId}"
                                        		disabled="#{agentActionBean.agentFormModel.editMode and agentActionBean.agentFormModel.rso}" >
                                                <f:selectItem itemLabel="[select]" itemValue="-1" />
                                                <f:selectItems value="#{agentActionBean.parentAgents}"/>
                                                <a4j:ajax event="change" listener="#{agentActionBean.onChangeParentAgent}" render="areaId areaName isActive parentAgents" />
                                          </h:selectOneMenu>
                                        </td>
                                        <td width="40" align="left" rowspan="2"></td>
                                        <td width="170" rowspan="2" valign="top">Comments:</td>
                                        <td width="200" rowspan="2" align="left">
                                        	<h:inputTextarea id="comments" rows="3" title="Comments" value="#{agentActionBean.agentFormModel.comments}" 
                                                onkeypress="return maskCommon(this,event)" onkeyup="textAreaLengthCounter(this,250);"	style="width:190px;" styleClass="type_txt" >
                                          </h:inputTextarea>
                                        </td>
                                  </tr>
                                      
                                      <tr>
                                        <td valign="top">Area Names <span class="asterisk">*</span>:</td>
                                        <td align="left">
                                        	<h:inputText readonly="true" id="areaName" title="Area Names" value="#{agentActionBean.agentFormModel.areaName}" styleClass="type_lookup_txt"
                                        		disabled="#{agentActionBean.agentFormModel.editMode and agentActionBean.agentFormModel.rso}" />
                                                <h:graphicImage url="/images/ah_images/lookup_22.png" style="cursor:pointer;border: 0px;" title="Select Area Name" >
                                                  <a4j:ajax event="click" listener="#{agentActionBean.loadAreaNameHierarchy}" oncomplete="openAreaNameHierarchy();" render="areaHierarchyError" 
                                                  	disabled="#{agentActionBean.agentFormModel.editMode and agentActionBean.agentFormModel.rso}" />
                                                </h:graphicImage>
                                              <h:inputHidden id="areaId" value="#{agentActionBean.agentFormModel.areaId}" />
                                              <h:inputHidden id="areaHierarchyError" value="#{agentActionBean.areaHierarchyError}" />
                                        </td>
                                        <td valign="top">
                                            <!--h:selectBooleanCheckbox styleClass="type_check" title="RSO" id="isRso" disabled="#{agentActionBean.agentFormModel.rsoDisabled}" value="#{agentActionBean.agentFormModel.rso}">
                                            </h:selectBooleanCheckbox>
                                            <label for="myform:isRso">RSO</label  -->
                                        </td>
                                        <td align="left">&nbsp;</td>
                                  </tr>
                                  <tr>
                                        <td valign="left">
                                        <!-- Account Type <span class="asterisk">* </span>: -->
                                        </td>
                                        <td align="left">
                                        	<!-- <h:selectOneMenu id="accountType" styleClass="type_list" title="Account Type" value="#{agentActionBean.agentFormModel.accountType}" 
											disabled="#{agentActionBean.agentFormModel.accountTypeDisabled}">
                                                <f:selectItem itemLabel="[select]" itemValue="-1" />
                                                <f:selectItems value="#{agentActionBean.accountTypes}"/>
                                          </h:selectOneMenu> -->
                                        </td>
                                        <td width="40" align="left" rowspan="2"></td>
                                        <td valign="left"></td>
                                        <td align="left">
                                        </td>
                                        <td valign="top">
                                        </td>
                                        <td align="left">&nbsp;</td>
                                  </tr>
                                      <tr>
                                        <td valign="top"><!-- Agent Name <span class="asterisk">*</span>: --></td>
                                        <td align="left">
                                        <h:selectBooleanCheckbox styleClass="type_check" title="Active" disabled="#{agentActionBean.agentFormModel.activeDisabled}" id="isActive" value="#{agentActionBean.agentFormModel.active}" >
                                            	<a4j:ajax event="change" listener="#{agentActionBean.onChangeActive}" render="isActive"/>
                                            </h:selectBooleanCheckbox>
                                            <label for="myform:isActive">Active</label>
                                        <!-- <h:inputText id="name" maxlength="50" value="#{agentActionBean.agentFormModel.name}" styleClass="type_txt" title="Agent Name" 
                                        onkeypress="return maskAlphaWithSp(this,event)" onkeydown="return disablePasteOption(event)"/> -->
                                        </td>
                                        <td align="left">&nbsp;</td>
                                        <td valign="top">
                                            
                                        </td>
                                        <td align="left">&nbsp;</td>
                                  </tr>
                                  <tr>
                                        <td valign="top">SMS to Agent</td>
                                        <td align="left">
                                        	<h:selectBooleanCheckbox styleClass="type_check" id="smsToAgent" value="#{agentActionBean.agentFormModel.smsToAgent}"/>     
                                        </td>
                                        <td align="left">&nbsp;</td>
                                        <td valign="top">SMS to Handler</td>
                                        <td align="left">
                                        	<h:selectBooleanCheckbox styleClass="type_check" id="smsToHandler" value="#{agentActionBean.agentFormModel.smsToHandler}"/>     
                                        </td>
                                  </tr>
                              </table>
                            </fieldset>
                            
                            <fieldset>
                                <legend>Contact Information</legend>
                                <table width="" border="0" align="center" cellpadding="0" cellspacing="10">
                                  <tr>
                                    <td width="170">First Name <span class="asterisk">*</span>:</td>
                                    <td width="200" align="left"><h:inputText id="firstName" disabled="true" title="First Name" value="#{agentActionBean.agentFormModel.firstName}" styleClass="type_txt" 
                                    /></td>
                                    <td width="40" align="left">&nbsp;</td>
                                    <td width="170">Last Name <span class="asterisk">*</span>:</td>
                                    <td width="200" align="left"><h:inputText id="lastName" disabled="true" title="Last Name" value="#{agentActionBean.agentFormModel.lastName}" styleClass="type_txt" 
                                    /></td>
                                  </tr>


                                  <tr>
                                  
                                    <td width="170">User Name <span class="asterisk">*</span>:</td>
                                    <td width="200" align="left">
                                    	<h:inputText id="userName" maxlength="50" title="User Name" disabled="#{agentActionBean.agentFormModel.editMode}" value="#{agentActionBean.agentFormModel.username}" styleClass="type_txt" 
                                    	onkeypress="return maskAlphaNumericForUserName(this,event)" onkeydown="return disablePasteOption(event)"/></td>
                                    <td width="40" align="left">&nbsp;</td>
                                    <td width="170">User Group <span class="asterisk">*</span>:</td>
                                    <td width="200" align="left">
                                    	<h:selectOneMenu id="partnerGroup" title="User Group" styleClass="type_list" value="#{agentActionBean.agentFormModel.partnerGroupId}" >
                                            <f:selectItem itemLabel="[select]" itemValue="#{agentActionBean.defaultValue}" />
                                            <f:selectItems value="#{agentActionBean.partnerGroups}"/>
                                        </h:selectOneMenu>
                                    </td>
                                  </tr>
                                  <tr>
                                    <td width="170">Password <span class="asterisk">*</span>:</td>
                                    <td width="200" align="left"><h:inputSecret id="password" disabled="#{agentActionBean.agentFormModel.editMode}" maxlength="50" redisplay="true" title="Password" value="#{agentActionBean.agentFormModel.password}" styleClass="type_txt" /></td>
                                    <td width="40" align="left">&nbsp;</td>
                                    <td width="170">Confirm Password <span class="asterisk">*</span>:</td>
                                    <td width="200" align="left"><h:inputSecret id="confirmPassword" disabled="#{agentActionBean.agentFormModel.editMode}"  maxlength="50" redisplay="true" title="Confirm Password" value="#{agentActionBean.agentFormModel.confirmPassword}" styleClass="type_txt" /></td>
                                  </tr>
                                  
                                  <tr>
                                    <td width="170">Application No:</td>
                                    <td width="200" align="left"><h:inputText id="applicationNo" disabled="true" value="#{agentActionBean.agentFormModel.applicationNo}" title="Application No" styleClass="type_txt"  /></td>
                                    <td width="40" align="left">&nbsp;</td>
                                    <td width="170">MSISDN <span class="asterisk">*</span>:</td>
                                    <td width="200" align="left">
                                    	<h:inputText id="zongMsisdn" maxlength="11" disabled="true" value="#{agentActionBean.agentFormModel.mobileNo}" styleClass="type_txt" title="MSISDN" />
                                    </td>
                                  </tr>


                                  <tr>
                                    <td width="170">Account Opening <span class="asterisk">*</span>:</td>
                                    <td width="200" align="left">
                                    	<rich:calendar id="accountOpeningDate" datePattern="dd/MM/yyyy" inputClass="type_lookup_txt" zindex="9999" value="#{agentActionBean.agentFormModel.accountOpeningDate}" disabled="#{!agentActionBean.securityCheck and !agentActionBean.editSecurityCheck}"/>
                                        <!-- rich:tooltip styleClass="tooltip" showDelay="600" value="Account Opening Date" for="myform:accountOpeningDatePopupButton" /-->
                                    </td>
                                    <td width="40" align="left">&nbsp;</td>
                                    <td width="170">NTN No :</td>
                                    <td width="200" align="left">
                                    	<h:inputText id="ntnNo" maxlength="13" value="#{agentActionBean.agentFormModel.ntnNo}" styleClass="type_txt" title="NTN No" 
                                            onkeypress="return maskInteger(this,event)" onkeydown="return disablePasteOption(event)"/>
                                    </td>
                                  </tr>
                                  
                                  <tr>
                                    <td width="170">CNIC No <span class="asterisk">*</span>:</td>
                                    <td width="200" align="left">
                                    	<h:inputText id="cnicNo" disabled="true" value="#{agentActionBean.agentFormModel.cnicNo}" styleClass="type_txt" title="CNIC No" 
                                             />
                                    </td>
                                    <td width="40" align="left">&nbsp;</td>
                                    <td width="170">CNIC Expiry Date <span class="asterisk">*</span>:</td>
                                    <td width="200" align="left">
                                    	<rich:calendar id="cnicExpiryDate" datePattern="dd/MM/yyyy" inputClass="type_lookup_txt" zindex="9999" value="#{agentActionBean.agentFormModel.cnicExpiryDate}" disabled="#{!agentActionBean.securityCheck and !agentActionBean.editSecurityCheck}"/>
                                        <!-- rich:tooltip styleClass="tooltip" showDelay="600" value="CNIC Expiry Date" for="myform:cnicExpiryDatePopupButton" / -->
                                    </td>
                                  </tr>
                                  
                                  <tr>
                                    <td width="170">Contact No <span class="asterisk">*</span>:</td>
                                    <td width="200" align="left">
                                    	<h:inputText id="contactNo" maxlength="13" value="#{agentActionBean.agentFormModel.contactNo}" styleClass="type_txt" title="Contact No" 
                                            onkeypress="return maskInteger(this,event)" onkeydown="return disablePasteOption(event)" />
                                    </td>
                                    <td width="40" align="left">&nbsp;</td>
                                    <td width="170">Email:</td>
                                    <td width="200" align="left">
                                    	<h:inputText id="email" maxlength="50" value="#{agentActionBean.agentFormModel.email}" styleClass="type_txt" title="Email" />
                                    </td>
                                  </tr>
                                  
                                  <!-- <tr>
                                    <td width="170">Mobile No <span class="asterisk">*</span>:</td>
                                    <td width="200" align="left">
                                    	<h:inputText id="mobileNo" maxlength="11" value="#{agentActionBean.agentFormModel.zongMsisdn}" styleClass="type_txt" title="Mobile No" 
                                            onkeypress="return maskInteger(this,event)" onkeydown="return disablePasteOption(event)" />
                                    </td>
                                    <td width="40" align="left">&nbsp;</td>
                                    <td width="170">Landline No <span class="asterisk">*</span>:</td>
                                    <td width="200" align="left">
                                    	<h:inputText id="landLineNo" maxlength="13" value="#{agentActionBean.agentFormModel.landLineNo}" styleClass="type_txt" title="Landline No" 
                                            onkeypress="return maskInteger(this,event)" onkeydown="return disablePasteOption(event)" />
                                    </td>
                                  </tr> -->
                                  
                                  <tr>
                                  <td width="170">Retail Category <span class="asterisk">*</span>:</td>
                                    <td width="200" align="left">
                                    	<h:selectOneMenu id="natureOfBusiness" styleClass="type_list" value="#{agentActionBean.agentFormModel.natureOfBusiness}" title="Nature of Business" >
                                            <f:selectItem itemLabel="[select]" itemValue="#{agentActionBean.defaultValue}" />
                                            <f:selectItems value="#{agentActionBean.natureOfBusinesses}"/>
                                        </h:selectOneMenu>
                                    </td>
                                    <td width="40" align="left">&nbsp;</td>
                                    <td width="170"><!-- Business Name <span class="asterisk">*</span>: --></td>
                                    <td width="200" align="left">
                                    	<h:inputHidden id="businessName" maxlength="50" value="#{agentActionBean.agentFormModel.businessName}" styleClass="type_txt" title="Business Name" 
                                    	onkeypress="return maskAlphaWithSp(this,event)" onkeydown="return disablePasteOption(event)"/>
                                    </td>
                                  </tr>
                              </table>
                            </fieldset>
                            
                            
                            
                            <fieldset>
                                <legend>Business Information</legend>
                                <table width="" border="0" align="center" cellpadding="0" cellspacing="10">
                                  <tr>
                                    <td width="170">Shop No <span class="asterisk">*</span>:</td>
                                    <td width="200" align="left"><h:inputText id="shopNo" maxlength="50" value="#{agentActionBean.agentFormModel.shopNo}" title="Shop No" styleClass="type_txt" 
                                    onkeypress="return maskAlphaNumericWithSp(this,event)" onkeydown="return disablePasteOption(event)"/></td>
                                    <td width="40" align="left">&nbsp;</td>
                                    <td width="170">Market/Plaza <span class="asterisk">*</span>:</td>
                                    <td width="200" align="left"><h:inputText id="marketPlaza" maxlength="50" value="#{agentActionBean.agentFormModel.marketPlaza}" title="Market/Plaza" styleClass="type_txt" 
                                    onkeypress="return maskAlphaWithSp(this,event)" onkeydown="return disablePasteOption(event)"/></td>
                                  </tr>

                                  <tr>
                                    <td width="170">District/Tehsil/Town <span class="asterisk">*</span>:</td>
                                    <td width="200" align="left">
                                    	<h:selectOneMenu id="districtTehsilTown" styleClass="type_list" value="#{agentActionBean.agentFormModel.districtTehsilTown}" title="District/Tehsil/Town" >
                                            <f:selectItem itemLabel="[select]" itemValue="#{agentActionBean.defaultValue}" />
                                            <f:selectItems value="#{agentActionBean.districts}"/>
                                        </h:selectOneMenu>
                                    </td>
                                    <td width="40" align="left">&nbsp;</td>
                                    <td width="170">City/Village <span class="asterisk">*</span>:</td>
                                    <td width="200" align="left">
                                    	<h:selectOneMenu id="cityVillage" styleClass="type_list" value="#{agentActionBean.agentFormModel.cityVillage}" title="City/Village" >
                                            <f:selectItem itemLabel="[select]" itemValue="#{agentActionBean.defaultValue}" />
                                            <f:selectItems value="#{agentActionBean.cities}"/>
                                            <a4j:ajax event="change" listener="#{agentActionBean.onChangeCity}" 
                                                    render="postOffice" />
                                        </h:selectOneMenu>
                                    </td>
                                  </tr>
                                  
                                  <tr>
                                    <td width="170">Post Office :</td>
                                    <td width="200" align="left">
                                    	<h:selectOneMenu id="postOffice" styleClass="type_list" value="#{agentActionBean.agentFormModel.postOffice}" title="Post Office" >
                                            <f:selectItem itemLabel="[select]" itemValue="#{agentActionBean.defaultValue}" />
                                            <f:selectItems value="#{agentActionBean.postOffices}"/>
                                        </h:selectOneMenu>
                                    </td>
                                    <td width="40" align="left">&nbsp;</td>
                                    <td width="170">NTN No :</td>
                                    <td width="200" align="left">
                                    	<h:inputText id="ntnNumber" maxlength="13" value="#{agentActionBean.agentFormModel.ntnNumber}" styleClass="type_txt" title="NTN No" 
                                            onkeypress="return maskInteger(this,event)" onkeydown="return disablePasteOption(event)" />
                                    </td>
                                  </tr>
                                  
                                  <tr>
                                    <td width="170">Nearest Landmark <span class="asterisk">*</span>:</td>
                                    <td width="200" align="left">
                                    	<h:inputText id="nearestLandmark" maxlength="100" value="#{agentActionBean.agentFormModel.nearestLandmark}" styleClass="type_txt" title="Nearest Landmark" 
                                    	onkeypress="return maskAlphaNumericWithSp(this,event)" onkeydown="return disablePasteOption(event)"/>
                                    </td>
                                    <td width="40" align="left">&nbsp;</td>
                                    <td width="170">&nbsp;</td>
                                    <td width="200" align="left">&nbsp;
                                    	
                                    </td>
                                  </tr>
                              </table>
                            </fieldset>
                        </div>
                    </td>
                </tr>
		    	<tr>
                	<td id="status_bar_bottom">
                    	<div>
                          <a4j:outputPanel  styleClass="infoMessage" ajaxRendered="true">
                            <h:outputText id="infoMessage" style="color:#ed1c24;" value="#{infoMessage}"/>
                          </a4j:outputPanel>
                        </div>
                    </td>
                </tr>
		    	<tr>
                	<td>
                    	<div id="footer">
                    	  <table width="100%" border="0" cellspacing="0" cellpadding="0">
                    	    <tr>
                    	      <td width="50%" valign="top" align="left"><h:commandLink styleClass="btn_cancel" value="" action="#{agentActionBean.cancel}" /></td>
                    	      <td width="50%" valign="top" align="right">
                            	<h:commandLink styleClass="btn_save" 
                            		rendered="#{!agentActionBean.agentFormModel.editMode and (agentActionBean.securityCheck or agentActionBean.editSecurityCheck)}" 
                            		value="" action="#{agentActionBean.saveOrUpdate}">
                            		<f:param name="actionAuthorizationId" value="${param.authId}" />
                                    <f:param name="resubmitRequest" value="${param.isReSubmit}" />
                            	</h:commandLink> 
                              	<a4j:outputPanel rendered="#{agentActionBean.agentFormModel.editMode and !agentActionBean.agentFormModel.coreAccountLinked and agentActionBean.linkPaymentModeAllowed}" >
                    	      		<a class="btn_create_link" href="p_allpaylinkpaymentmode.html" />
                    	      	</a4j:outputPanel>
						        <h:commandLink styleClass="btn_update" rendered="#{agentActionBean.agentFormModel.editMode and (agentActionBean.securityCheck or agentActionBean.editSecurityCheck)}" value="" action="#{agentActionBean.saveOrUpdate}"  />
                              </td>
                  	      </tr>
                  	    </table>
                    	</div>
                  </td>
                </tr>
            </table>
		</div>
	</h:form>
	<div class="status">
                          <a4j:status>
                            <f:facet name="start">
                                <h:graphicImage url="/images/ah_images/tabs_loader.gif" style="border:0px;"/>
                            </f:facet>
                            <f:facet name="stop"></f:facet>
                          </a4j:status>
                        </div>
</f:view>
</h:body>
</html>