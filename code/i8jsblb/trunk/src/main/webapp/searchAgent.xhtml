<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
	  xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich">

<h:head>
<link rel="stylesheet" href="#{request.contextPath}/styles/wizard_style.css" type="text/css" />
<link rel="stylesheet" href="#{request.contextPath}/styles/tpc.css" type="text/css" />
<link rel="stylesheet" href="#{request.contextPath}/styles/style_js.css" type="text/css" />

<meta name="title" content="Search Agent" />
 <style>
.col {
    width: 100px;
}
</style>
<script type="text/javascript" src="#{request.contextPath}/scripts/commonFormValidator.js"></script>
<script type="text/javascript" src="#{request.contextPath}/scripts/jquery-1.7.2.min.js"></script>
<script type="text/javascript" >

function focustOnYes(id)
{
	document.getElementById(id).focus();
}

	function invokeEdit()
	{
		var rowIndex = document.getElementById("myform:rowIndex").value;
		document.getElementById("myform:agentDataTable:" + rowIndex + ":edit").click();
	}
	
	function saveRowIndex(id)
	{
		 var prefix = id.substring(0,id.lastIndexOf(":"));
		 var index = prefix.substring(prefix.lastIndexOf(":")+1, prefix.length);
		 document.getElementById("myform:rowIndex").value = index;
	}

	var serverDate =undefined;
	var jq = jQuery.noConflict();
	
	jq(document).ready(function() {
	    document.getElementById("myform:distributorname").focus();
	});
	
	function openPrinterWindow(retailerContactId, contextPath)
	{
		var location =contextPath+'/allpayRetailerAccountForm_printer.html?retailerContactId='+ retailerContactId; 
		window.open(location,'printWindow');
	} 
	
</script>
</h:head>
<h:body>
<f:view>
	<f:event type="preRenderView" listener="#{agentSearchBean.clearAllSessionObjects}"></f:event>
	<h:form id="myform" onkeypress="if(event.keyCode==13){ document.getElementById('myform:searchbtn').click();return false}">
		<h:inputHidden id="rowIndex" value="" />
		<div id="wizard_group"> 
        	<table width="100%" border="0" cellspacing="0" cellpadding="0">
                <tr>
	                <td id="header_wizard"><h1>Search Agent</h1></td>
                </tr>
            	<tr>
                	<td>
                        <div id="status_bar_top">
                        	<table width="100%" border="0" cellspacing="0" cellpadding="0">
                                <tr>
                                  <td width="70%" valign="top" align="left">&nbsp;
                                  	
                                  </td>
                                  <td width="30%" valign="top" align="right">
                                  	<a4j:outputPanel id="icon_bar" styleClass="icons_div" style="display:block;float:right;" >
                                            <a4j:commandLink actionListener="#{agentSearchBean.clearSearchAgentScreen}"  
                                                title="Clear"
                                                render="distributorname,agentname,contactno,franchise,region,agentid,agentDataTable,dataScroller,icon_bar">
                                                  <h:graphicImage url="/images/ah_images/icon_clear.png" ></h:graphicImage>
                                            </a4j:commandLink>
                                                &nbsp;
                                            <!-- <h:commandLink action="#{agentSearchBean.addAgent}" title="Add Agent" disabled="#{!agentSearchBean.securityCheck}">
                                                  <h:graphicImage url="/images/ah_images/icon_add_dist.png" />
                                            </h:commandLink> -->  
                                            
                                            <h:commandLink action="#{agentSearchBean.exportToExcel}" rendered="#{agentSearchBean.listSize != 0 and agentSearchBean.exportToXlsAllowed}"
                                           			 id="exportToExcel" title="Export To Excel" >
                                             	<h:graphicImage url="/images/ah_images/xls.png" />
                                        	</h:commandLink>
                                    </a4j:outputPanel>
                                  </td>
                              </tr>
                            </table>
                        </div>
                        
                        
                        <div class="clear"></div>
                    </td>
                </tr>
            	
                <tr>
                	<td >
                    	<div id="content_wrap" >		   
                         <div class="row,error_text_red" style="margin-left: 30px" >
                            <a4j:outputPanel ajaxRendered="true" >
                                 <a4j:outputPanel styleClass="error_cont" rendered="#{! empty facesContext.maximumSeverity}">
                                     <a4j:outputPanel styleClass="error_txt" >
                                        <h:messages globalOnly="true" />
                                     </a4j:outputPanel>
                                 </a4j:outputPanel>                
                            </a4j:outputPanel>
                        </div>
                        <table width="" border="0" align="center" cellpadding="0" cellspacing="10">
                              <tr>
                                    <td width="170" valign="top">Agent Network Name:</td>
                                    <td width="200" align="left" valign="top">
                                    	<h:selectOneMenu id="distributorname" styleClass="type_list" value="#{agentSearchBean.agentFormModel.distributorId}" title="Agent Network Name">
                                            <f:selectItem itemValue="" itemLabel="[Select]"/>
                                            <f:selectItems value="#{agentSearchBean.distributors}"/>
                                             <a4j:ajax listener="#{agentSearchBean.onChangeDistributor}" render="region, franchise" event="change"/>
                                        </h:selectOneMenu>
                                    </td>
                                    <td width="40" align="left">&nbsp;</td>
                                    <td width="170" valign="top">Franchise:</td>
                                    <td width="200" align="left" valign="top">
                                 		<h:selectOneMenu id="franchise" styleClass="type_list" value="#{agentSearchBean.agentFormModel.retailerId}" title="Franchise">
                                            <f:selectItem itemValue="" itemLabel="[Select]"/>
                                            <f:selectItems value="#{agentSearchBean.retailers}" />		    		    	
                                        </h:selectOneMenu>
                                    </td>
                              </tr>
                              
                              <tr>
                                    <td width="170" valign="top">Region:</td>
                                    <td width="200" align="left" valign="top">
                                    	<h:selectOneMenu id="region" styleClass="type_list" value="#{agentSearchBean.agentFormModel.regionId}" title="Region">
                                            <f:selectItem itemValue="" itemLabel="[Select]"/>
                                            <f:selectItems value="#{agentSearchBean.regions}"/>
                                            <a4j:ajax listener="#{agentSearchBean.onChangeRegion}" render="franchise" event="change"/>
                                        </h:selectOneMenu>
                                    </td>
                                    <td width="40" align="left">&nbsp;</td>
                                    <td width="170" valign="top">Agent Name:</td>
                                    <td width="200" align="left" valign="top">
                                 		<h:inputText id="agentname" styleClass="type_txt" value="#{agentSearchBean.agentFormModel.agentName}" maxlength="50" title="Agent Name"
                                 		onkeypress="return maskAlphaWithSp(this,event)" onkeydown="return disablePasteOption(event)"/>
                                    </td>
                              </tr>
                              
                              <tr>
                                    <td width="170" valign="top">Mobile No:</td>
                                    <td width="200" align="left" valign="top">
                                    	<h:inputText id="contactno" styleClass="type_txt" value="#{agentSearchBean.agentFormModel.contactNo}" maxlength="11"
                                    	onkeypress="return maskInteger(this,event)" onkeydown="return disablePasteOption(event)" title="Contact No"/>
                                    </td>
                                    <td width="40" align="left">&nbsp;</td>
                                    <td width="170" valign="top">Agent ID:</td>
                                    <td width="200" align="left" valign="top">
                                 		<h:inputText id="agentid" styleClass="type_txt" value="#{agentSearchBean.agentFormModel.agentId}" maxlength="50" 
                                 		onkeypress="return maskInteger(this,event)" onkeydown="return disablePasteOption(event)" title="Agent Id"/>
                                    </td>
                              </tr>
                              <tr>
                              <td width="170" valign="top">Account Type:</td>
                                    <td width="200" align="left" valign="top">
                                    	<h:selectOneMenu id="accountType" styleClass="type_list" value="#{agentSearchBean.agentFormModel.olaCustomerAccountTypeId}" title="Account Type Name">
                                            <f:selectItem itemValue="" itemLabel="[Select]"/>
                                            <f:selectItems value="#{agentSearchBean.olaAccountTypes}"/>
                                        </h:selectOneMenu>
                                    </td>
                              </tr>
                              <tr>
                                    <td width="170" valign="top">&nbsp;</td>
                                    <td width="200" align="left" valign="top">&nbsp;</td>
                                    <td width="40" align="left">&nbsp;</td>
                                    <td width="170" valign="top">&nbsp;</td>
                                    <td width="200" align="right" valign="top">
                                 		<h:commandButton id="searchbtn" styleClass="submit_btn" value="Search" 
                                 			action="#{agentSearchBean.searchAgent}" title="Search" onclick="return validateForm(this);" />
                                    </td>
                              </tr>
                              
                          </table>
                        
                        <div class="row" style="width:90%; margin:0px; margin:15px auto !important; overflow-x:auto; overflow-y:hidden; border: 1px solid #c4c0c9;" >
	                            <rich:dataTable id="agentDataTable" rows="5" width="100%" styleClass="datagrid" 
	                                rowClasses="rowodd, roweven" value="#{agentSearchBean.contactModelsList}" var="model">
	                                <f:facet name="header">
	                                    <rich:columnGroup>
	                                        <h:column>
	                                            <h:outputText value="Agent Network Name" rendered="#{agentSearchBean.listSize == 0}" />
	                                            <a4j:commandLink style="vertical-align:bottom;" rendered="#{agentSearchBean.listSize != 0}" value="Agent Network Name" render="agentDataTable" actionListener="#{agentSearchBean.sortByAgentNetworkName}" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.agentNetworkNameSortingOrder == 1}" url="/images/ah_images/down.png" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.agentNetworkNameSortingOrder == 2}" url="/images/ah_images/up.png" />
	                                        </h:column>
	                                        <h:column>
	                                            <h:outputText value="Region" rendered="#{agentSearchBean.listSize == 0}" />
	                                            <a4j:commandLink style="vertical-align:bottom;" rendered="#{agentSearchBean.listSize != 0}" value="Region" render="agentDataTable" actionListener="#{agentSearchBean.sortByRegionName}" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.regionNameSortingOrder == 1}" url="/images/ah_images/down.png" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.regionNameSortingOrder == 2}" url="/images/ah_images/up.png" />
	                                        </h:column>
	                                        <h:column>
	                                            <h:outputText value="Franchise/Branch Name" rendered="#{agentSearchBean.listSize == 0}" />
	                                            <a4j:commandLink style="vertical-align:bottom;" rendered="#{agentSearchBean.listSize != 0}" value="Franchise/Branch Name" render="agentDataTable" actionListener="#{agentSearchBean.sortByFranchiseName}" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.franchiseNameSortingOrder == 1}" url="/images/ah_images/down.png" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.franchiseNameSortingOrder == 2}" url="/images/ah_images/up.png" />
	                                        </h:column>
	                                        <h:column>
	                                            <h:outputText value="Agent ID" rendered="#{agentSearchBean.listSize == 0}" />
	                                            <a4j:commandLink style="vertical-align:bottom;" rendered="#{agentSearchBean.listSize != 0}" value="Agent ID" render="agentDataTable" actionListener="#{agentSearchBean.sortByAgentID}" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.agentIDSortingOrder == 1}" url="/images/ah_images/down.png" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.agentIDSortingOrder == 2}" url="/images/ah_images/up.png" />
	                                        </h:column>
	                                        <h:column>
	                                            <h:outputText value="Agent Name" rendered="#{agentSearchBean.listSize == 0}" />
	                                            <a4j:commandLink style="vertical-align:bottom;" rendered="#{agentSearchBean.listSize != 0}" value="Agent Name" render="agentDataTable" actionListener="#{agentSearchBean.sortByAgentName}" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.agentNameSortingOrder == 1}" url="/images/ah_images/down.png" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.agentNameSortingOrder == 2}" url="/images/ah_images/up.png" />
	                                        </h:column>
	                                        <h:column>
	                                            <h:outputText value="User Name" rendered="#{agentSearchBean.listSize == 0}" />
	                                            <a4j:commandLink style="vertical-align:bottom;" rendered="#{agentSearchBean.listSize != 0}" value="User Name" render="agentDataTable" actionListener="#{agentSearchBean.sortByUserName}" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.userNameSortingOrder == 1}" url="/images/ah_images/down.png" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.userNameSortingOrder == 2}" url="/images/ah_images/up.png" />
	                                        </h:column>
	                                        <h:column>
	                                            <h:outputText value="First Name" rendered="#{agentSearchBean.listSize == 0}" />
	                                            <a4j:commandLink style="vertical-align:bottom;" rendered="#{agentSearchBean.listSize != 0}" value="First Name" render="agentDataTable" actionListener="#{agentSearchBean.sortByFirstName}" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.firstNameSortingOrder == 1}" url="/images/ah_images/down.png" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.firstNameSortingOrder == 2}" url="/images/ah_images/up.png" />
	                                        </h:column>
	                                        <h:column>
	                                            <h:outputText value="Last Name" rendered="#{agentSearchBean.listSize == 0}" />
	                                            <a4j:commandLink style="vertical-align:bottom;" rendered="#{agentSearchBean.listSize != 0}" value="Last Name" render="agentDataTable" actionListener="#{agentSearchBean.sortByLastName}" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.lastNameSortingOrder == 1}" url="/images/ah_images/down.png" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.lastNameSortingOrder == 2}" url="/images/ah_images/up.png" />
	                                        </h:column>
	                                        <h:column>
	                                            <h:outputText value="Account Nick" rendered="#{agentSearchBean.listSize == 0}" />
	                                            <a4j:commandLink style="vertical-align:bottom;" rendered="#{agentSearchBean.listSize != 0}" value="Account Nick" render="agentDataTable" actionListener="#{agentSearchBean.sortByAccountNick}" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.accountNickSortingOrder == 1}" url="/images/ah_images/down.png" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.accountNickSortingOrder == 2}" url="/images/ah_images/up.png" />
	                                        </h:column>
	                                        <h:column>
                                            <h:outputText value="Mobile No" rendered="#{agentSearchBean.listSize == 0}" />
                                            	<a4j:commandLink style="vertical-align:bottom;" rendered="#{agentSearchBean.listSize != 0}" value="Mobile No" render="agentDataTable" actionListener="#{agentSearchBean.sortByMobileNo}" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.mobileNoSortingOrder == 1}" url="/images/ah_images/down.png" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.mobileNoSortingOrder == 2}" url="/images/ah_images/up.png" />
	                                        </h:column>
	                                        <h:column>
	                                            <h:outputText value="Area Name" rendered="#{agentSearchBean.listSize == 0}" />
	                                            <a4j:commandLink style="vertical-align:bottom;" rendered="#{agentSearchBean.listSize != 0}" value="Area Name" render="agentDataTable" actionListener="#{agentSearchBean.sortByAreaName}" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.areaNameSortingOrder == 1}" url="/images/ah_images/down.png" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.areaNameSortingOrder == 2}" url="/images/ah_images/up.png" />
	                                        </h:column>
	                                        <h:column>
	                                            <h:outputText value="Sale User Name" rendered="#{agentSearchBean.listSize == 0}" />
	                                            <a4j:commandLink style="vertical-align:bottom;" rendered="#{agentSearchBean.listSize != 0}" value="Sale User Name" render="agentDataTable" actionListener="#{agentSearchBean.sortBySaleUserName}" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.saleUserNameSortingOrder == 1}" url="/images/ah_images/down.png" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.saleUserNameSortingOrder == 2}" url="/images/ah_images/up.png" />
	                                        </h:column>
	                                        <h:column>
	                                            <h:outputText value="Role Title" rendered="#{agentSearchBean.listSize == 0}" />
	                                            <a4j:commandLink style="vertical-align:bottom;" rendered="#{agentSearchBean.listSize != 0}" value="Role Title" render="agentDataTable" actionListener="#{agentSearchBean.sortByRoleTitle}" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.roleTitleSortingOrder == 1}" url="/images/ah_images/down.png" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.roleTitleSortingOrder == 2}" url="/images/ah_images/up.png" />
	                                        </h:column>
	                                        <h:column>
                                            <h:outputText value="Status" rendered="#{agentSearchBean.listSize == 0}" />
                                            	<a4j:commandLink style="vertical-align:bottom;" rendered="#{agentSearchBean.listSize != 0}" value="Status" render="agentDataTable" actionListener="#{agentSearchBean.sortByStatus}" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.statusSortingOrder == 1}" url="/images/ah_images/down.png" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.statusSortingOrder == 2}" url="/images/ah_images/up.png" />
	                                        </h:column>
	                                        <h:column>
                                            <h:outputText value="Status (Open/Close)" rendered="#{agentSearchBean.listSize == 0}" />
                                            	<a4j:commandLink style="vertical-align:bottom;" rendered="#{agentSearchBean.listSize != 0}" value="Status (Open/Close)" render="agentDataTable" actionListener="#{agentSearchBean.sortByStatus}" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.statusSortingOrder == 1}" url="/images/ah_images/down.png" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.statusSortingOrder == 2}" url="/images/ah_images/up.png" />
	                                        </h:column>
	                                        
	                                        <h:column>
	                                            <h:outputText value="View Details" />
	                                        </h:column>
	                                        <h:column>
	                                            <!-- added by turab -->
	                                            <h:outputText value="Account Type" rendered="#{agentSearchBean.listSize == 0}" />
	                                            <a4j:commandLink style="vertical-align:bottom;" rendered="#{agentSearchBean.listSize != 0}" value="Account Type" render="agentDataTable" actionListener="#{agentSearchBean.sortByAccountType}" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.accountTypeSortingOrder == 1}" url="/images/ah_images/down.png" />
                                                <h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{agentSearchBean.accountTypeSortingOrder == 2}" url="/images/ah_images/up.png" />
	                                        </h:column>
	                                        <h:column rendered="#{agentSearchBean.agentPrintFormAllowed}">
	                                            <h:outputText value="Print Details" />
	                                        </h:column>
	                                    </rich:columnGroup>
	                                </f:facet>
	                                <h:column>
	                                    <h:outputText value="#{model.distributorName}" />
	                                </h:column>
	                                <h:column>
	                                    <h:outputText value="#{model.regionName}" />
	                                </h:column>
	                                <h:column>
	                                    <h:outputText value="#{model.retailerName}" />
	                                </h:column>
	                                <h:column>
	                                    <h:outputText value="#{model.agentId}" />
	                                </h:column>
	                                <h:column>
	                                    <h:outputText value="#{model.agentName}" />
	                                </h:column>
	                                <h:column>
	                                    <h:outputText value="#{model.userName}" />
	                                </h:column>
	                                <h:column>
	                                    <h:outputText value="#{model.firstName}" />
	                                </h:column>
	                                <h:column>
	                                    <h:outputText value="#{model.lastName}" />
	                                </h:column>
	                                <h:column>
	                                    <h:outputText value="#{model.accountNick}" />
	                                </h:column>
	                                <h:column>
	                                    <h:outputText value="#{model.contactNo}" />
	                                </h:column>
	                                <h:column>
	                                    <h:outputText value="#{model.areaName}" />
	                                </h:column>
	                                <h:column>
	                                    <h:outputText value="#{model.saleUserName}" />
	                                </h:column>
	                                <h:column>
	                                    <h:outputText value="#{model.roleTitle}" />
	                                </h:column>
	                                <h:column >
	                                    <a4j:outputPanel style="text-align:center;" >
	                                        <h:graphicImage rendered="#{model.active and model.accountClosed=='OPEN'}" url="/images/ah_images/active.png" style="border:0px;"/>
	                                        <h:graphicImage rendered="#{!model.active or model.accountClosed =='CLOSED UNSETTLED' or model.accountClosed =='CLOSED SETTLED'}" url="/images/ah_images/inactive.png" style="border:0px;"/>
	                                    </a4j:outputPanel>
	                                </h:column>
	                                <h:column>
	                                    <h:outputText value="#{model.accountClosed}" />
	                                </h:column>
	                                <h:column>
                    	      			<h:outputLink id="link1" value="allpayRetailerAccountDetails.html" title="View Details" >
									    	<f:param name="retailerContactId" value="#{model.retailerContactId}" />
									    	<f:param name="appUserId" value="#{model.appUserId}" />
									    	<h:graphicImage url="/images/ah_images/view_details_16.png" alt="View Details" />
									    </h:outputLink>
									    </h:column>
	                                <h:column id="accountType"><h:outputText value="#{model.olaCustomerAccountTypeName}" ></h:outputText> <!-- added by turab -->
	                                </h:column>
	                                <h:column rendered="#{agentSearchBean.agentPrintFormAllowed}">
										<h:graphicImage rendered="#{model.accountClosed=='OPEN'}" style="cursor: pointer;" url="/images/ah_images/print.png" alt="Print Details" onclick="openPrinterWindow('#{model.retailerContactId}', '#{request.contextPath}');" />
										<h:graphicImage rendered="#{model.accountClosed =='CLOSED UNSETTLED' or model.accountClosed =='CLOSED SETTLED'}" url="/images/ah_images/print.png" style="border:0px;"/>
	                                </h:column>
	                            </rich:dataTable>
                        </div>
                        <div align="center"><rich:dataScroller id="dataScroller" for="agentDataTable" render="agentDataTable" /></div>
                    </div>
                    	
                    </td>
                </tr>
		    

		    	<tr>
                	<td id="status_bar_bottom">
                    	<div>
                            <a4j:outputPanel styleClass="infoMessage" ajaxRendered="true">
                                <h:outputText style="color:#0e385f;" value="#{infoMessage}"/>
                            </a4j:outputPanel>
                        </div>
                    </td>
                </tr>
                
                
		    	<tr>
                	<td>
                    	<div id="footer">
                    	  
                    	</div>
                  </td>
                </tr>
                
                
            </table>
		</div>
	</h:form>
	<div class="status">
	  <a4j:status>
	    <f:facet name="start"  >
	      <h:graphicImage url="/images/ah_images/tabs_loader.gif" style="border:0px;"/>
	    </f:facet>
	    <f:facet name="stop"></f:facet>
	  </a4j:status>
	</div>
	<rich:popupPanel id="popup" modal="true" autosized="true" onshow="focustOnYes('editYes');" resizeable="false">
        <f:facet name="header">
            <h:outputText value="Confirm" />
        </f:facet>
        <f:facet name="controls">
            <h:outputLink value="#" onclick="#{rich:component('popup')}.hide(); return false;">
                X
            </h:outputLink>
        </f:facet>
        <h:panelGroup>
        	<p>Are you sure you want to edit?</p>
        	<h:commandButton id="editYes" styleClass="submit_btn" label="Yes" value="Yes" onclick="invokeEdit();#{rich:component('popup')}.hide(); return false;" />
        	<h:commandButton styleClass="submit_btn" label="No" value="No" onclick="#{rich:component('popup')}.hide(); return false;" />
       	</h:panelGroup>
	</rich:popupPanel>
</f:view>
<script type="text/javascript" src="#{request.contextPath}/scripts/searchFormValidator.js"></script>
</h:body>
</html>