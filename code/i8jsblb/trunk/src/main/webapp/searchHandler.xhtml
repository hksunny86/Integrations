<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich">

<h:head>
	<link rel="stylesheet" href="#{request.contextPath}/styles/wizard_style.css" type="text/css" />
	<link rel="stylesheet" href="#{request.contextPath}/styles/tpc.css" type="text/css" />
	<link rel="stylesheet" href="#{request.contextPath}/styles/style_js.css" type="text/css" />

	<meta name="title" content="Search Handler" />
	<style>
.col {
	width: 100px;
}
</style>
	<script type="text/javascript" src="#{request.contextPath}/scripts/commonFormValidator.js"></script>
	<script type="text/javascript" src="#{request.contextPath}/scripts/jquery-1.7.2.min.js"></script>
	<script type="text/javascript">
		
		function focustOnYes(id) {
			document.getElementById(id).focus();
		}

		var jq = jQuery.noConflict();
		var serverDate = undefined;
		
		jq(document).ready(function() {
			document.getElementById("myform:Handlerid").focus();
		});
	
	</script>
</h:head>
<h:body>
	<f:view>
		<h:form id="myform" onkeypress="if(event.keyCode==13){ document.getElementById('myform:searchbtn').click();return false}">
			<h:inputHidden id="rowIndex" />
			<div id="wizard_group">
				<table width="100%" border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td id="header_wizard"><h1>Search Handler</h1></td>
					</tr>
					<tr>
						<td>
							<div id="status_bar_top">
								<table width="100%" border="0" cellspacing="0" cellpadding="0">
									<tr>
										<td width="70%" valign="top" align="left">&nbsp;</td>
										<td width="30%" valign="top" align="right"><a4j:outputPanel id="icon_bar" styleClass="icons_div" style="display:block;float:right;">
												<a4j:commandLink actionListener="#{handlerSearchManagedBean.clearSearchHandlerScreen}" title="Clear" render="agentname,contactno,agentid,handlerDataTable,dataScroller,icon_bar">
													<h:graphicImage url="/images/ah_images/icon_clear.png"></h:graphicImage>
												</a4j:commandLink>
												<h:commandLink action="#{handlerSearchManagedBean.exportToExcel}" rendered="#{handlerSearchManagedBean.resultSize!= 0}" id="exportToExcel" title="Export To Excel">
													<h:graphicImage url="/images/ah_images/xls.png" />
												</h:commandLink>
											</a4j:outputPanel></td>
									</tr>
								</table>
							</div>
							<div class="clear"></div>
						</td>
					</tr>
					<tr>
						<td>
							<div id="content_wrap">
								<div class="row,error_text_red" style="margin-left: 30px">
									<a4j:outputPanel ajaxRendered="true">
										<a4j:outputPanel styleClass="error_cont" rendered="#{! empty facesContext.maximumSeverity}">
											<a4j:outputPanel styleClass="error_txt">
												<h:messages globalOnly="true" />
											</a4j:outputPanel>
										</a4j:outputPanel>
									</a4j:outputPanel>
								</div>
								<table width="" border="0" align="center" cellpadding="0" cellspacing="10">
									<tr>
										<td width="170" valign="top">Handler ID:</td>
										<td width="200" align="left" valign="top"><h:inputText id="Handlerid" styleClass="type_txt" value="#{handlerSearchManagedBean.userId}" maxlength="50" onkeypress="return maskInteger(this,event)" onkeydown="return disablePasteOption(event)" title="Handler Id" /></td>
										<td width="40" align="left">&nbsp;</td>
										<td width="170" valign="top">Handler Name:</td>
										<td width="200" align="left" valign="top"><h:inputText id="Handlername" styleClass="type_txt" value="#{handlerSearchManagedBean.handlerName}" maxlength="50" title="Handler Name" onkeypress="return maskAlphaWithSp(this,event)" onkeydown="return disablePasteOption(event)" /></td>
									</tr>
									<tr>
										<td width="170" valign="top">Agent ID:</td>
										<td width="200" align="left" valign="top"><h:inputText id="agentid" styleClass="type_txt" value="#{handlerSearchManagedBean.agentId}" maxlength="50" onkeypress="return maskInteger(this,event)" onkeydown="return disablePasteOption(event)" title="Agent Id" /></td>
										<td width="40" align="left">&nbsp;</td>
										<td width="170" valign="top">Agent Name:</td>
										<td width="200" align="left" valign="top"><h:inputText id="agentname" styleClass="type_txt" value="#{handlerSearchManagedBean.agentName}" maxlength="50" title="Agent Name" onkeypress="return maskAlphaWithSp(this,event)" onkeydown="return disablePasteOption(event)" /></td>
									</tr>
									<tr>
										<td width="170" valign="top">Mobile No:</td>
										<td width="200" align="left" valign="top"><h:inputText id="contactno" styleClass="type_txt" value="#{handlerSearchManagedBean.mobileNumber}" maxlength="11" onkeypress="return maskInteger(this,event)" onkeydown="return disablePasteOption(event)" title="Contact No" /></td>
										<td width="40" align="left">&nbsp;</td>
										<td width="170" valign="top">Account Type:</td>
										<td width="200" align="left" valign="top"><h:selectOneMenu id="accountType" styleClass="type_list" value="#{handlerSearchManagedBean.accountTypeId}">
												<f:selectItem itemValue="" itemLabel="[Select]" />
												<f:selectItems value="#{handlerSearchManagedBean.accountTypeList}" />
											</h:selectOneMenu></td>
									</tr>
									<tr>
										<td width="170" valign="top">&nbsp;</td>
										<td width="200" align="left" valign="top">&nbsp;</td>
										<td width="40" align="left">&nbsp;</td>
										<td width="170" valign="top">&nbsp;</td>
										<td width="200" align="right" valign="top"><h:commandButton id="searchbtn" styleClass="submit_btn" value="Search" action="#{handlerSearchManagedBean.search}" onclick="return validateForm(this);" title="Search" /></td>
									</tr>
								</table>
								<div class="row" style="width:90%; margin:0px; margin:15px auto !important; overflow-x:auto; overflow-y:hidden; border: 1px solid #c4c0c9;">
									<rich:dataTable id="handlerDataTable" rows="10" width="100%" styleClass="datagrid" rowClasses="rowodd, roweven" value="#{handlerSearchManagedBean.handlerSearchViewModelList}" var="model">
										<f:facet name="header">
											<rich:columnGroup>
												<h:column>
													<h:outputText value="Handler ID" rendered="#{handlerSearchManagedBean.resultSize == 0}" />
													<a4j:commandLink style="vertical-align:bottom;" rendered="#{handlerSearchManagedBean.resultSize != 0}" value="Handler ID" render="handlerDataTable"  actionListener="#{handlerSearchManagedBean.sortByHandlerId}"/>
													<h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{handlerSearchManagedBean.handlerIDSortingOrder == 1}" url="/images/ah_images/down.png" />
													<h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{handlerSearchManagedBean.handlerIDSortingOrder == 2}" url="/images/ah_images/up.png" />
												</h:column>
												<h:column>
													<h:outputText value="Agent ID" rendered="#{handlerSearchManagedBean.resultSize == 0}" />
													<a4j:commandLink style="vertical-align:bottom;" rendered="#{handlerSearchManagedBean.resultSize != 0}" value="Agent ID" render="handlerDataTable" actionListener="#{handlerSearchManagedBean.sortByAgentId}"/>
													<h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{handlerSearchManagedBean.agentIDSortingOrder == 1}" url="/images/ah_images/down.png" />
													<h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{handlerSearchManagedBean.agentIDSortingOrder == 2}" url="/images/ah_images/up.png" />
												</h:column>
												<h:column>
													<h:outputText value="Agent Name" rendered="#{handlerSearchManagedBean.resultSize == 0}" />
													<a4j:commandLink style="vertical-align:bottom;" rendered="#{handlerSearchManagedBean.resultSize != 0}" value="Agent Name" render="handlerDataTable"  actionListener="#{handlerSearchManagedBean.sortByAgentName}"/>
													<h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{handlerSearchManagedBean.agentNameSortingOrder == 1}" url="/images/ah_images/down.png" />
													<h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{handlerSearchManagedBean.agentNameSortingOrder == 2}" url="/images/ah_images/up.png" />
												</h:column>
												<h:column>
													<h:outputText value="Handler Name" rendered="#{handlerSearchManagedBean.resultSize == 0}" />
													<a4j:commandLink style="vertical-align:bottom;" rendered="#{handlerSearchManagedBean.resultSize != 0}" value="Handler Name" render="handlerDataTable"  actionListener="#{handlerSearchManagedBean.sortByHandlerName}"/>
													<h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{handlerSearchManagedBean.handlerNameSortingOrder == 1}" url="/images/ah_images/down.png" />
													<h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{handlerSearchManagedBean.handlerNameSortingOrder == 2}" url="/images/ah_images/up.png" />
												</h:column>
												<h:column>
													<h:outputText value="User Name" rendered="#{handlerSearchManagedBean.resultSize == 0}" />
													<a4j:commandLink style="vertical-align:bottom;" rendered="#{handlerSearchManagedBean.resultSize != 0}" value="User Name" render="handlerDataTable" actionListener="#{handlerSearchManagedBean.sortByUserName}" />
													<h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{handlerSearchManagedBean.userNameSortingOrder == 1}" url="/images/ah_images/down.png" />
													<h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{handlerSearchManagedBean.userNameSortingOrder == 2}" url="/images/ah_images/up.png" />
												</h:column>
												<h:column>
													<h:outputText value="Mobile No" rendered="#{handlerSearchManagedBean.resultSize == 0}" />
													<a4j:commandLink style="vertical-align:bottom;" rendered="#{handlerSearchManagedBean.resultSize != 0}" value="Mobile No" render="handlerDataTable" actionListener="#{handlerSearchManagedBean.sortByContactNo}" />
													<h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{handlerSearchManagedBean.mobileNoSortingOrder == 1}" url="/images/ah_images/down.png" />
													<h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{handlerSearchManagedBean.mobileNoSortingOrder == 2}" url="/images/ah_images/up.png" />
												</h:column>
												<h:column>
													<h:outputText value="Area Name" rendered="#{handlerSearchManagedBean.resultSize == 0}" />
													<a4j:commandLink style="vertical-align:bottom;" rendered="#{handlerSearchManagedBean.resultSize != 0}" value="Area Name" render="handlerDataTable"  actionListener="#{handlerSearchManagedBean.sortByAreaName}"/>
													<h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{handlerSearchManagedBean.areaNameSortingOrder == 1}" url="/images/ah_images/down.png" />
													<h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{handlerSearchManagedBean.areaNameSortingOrder == 2}" url="/images/ah_images/up.png" />
												</h:column>
												<h:column>
													<h:outputText value="Status (Open/Close)" rendered="#{handlerSearchManagedBean.resultSize == 0}" />
													<a4j:commandLink style="vertical-align:bottom;" rendered="#{handlerSearchManagedBean.resultSize != 0}" value="Status (Open/Close)" render="handlerDataTable"  actionListener="#{handlerSearchManagedBean.sortByStatus}"/>
													<h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{handlerSearchManagedBean.statusSortingOrder == 1}" url="/images/ah_images/down.png" />
													<h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{handlerSearchManagedBean.statusSortingOrder == 2}" url="/images/ah_images/up.png" />
												</h:column>
												<h:column>
													<h:outputText value="Account Type" rendered="#{handlerSearchManagedBean.resultSize == 0}" />
													<a4j:commandLink style="vertical-align:bottom;" rendered="#{handlerSearchManagedBean.resultSize != 0}" value="Account Type" render="handlerDataTable" actionListener="#{handlerSearchManagedBean.sortByAccountType}" />
													<h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{handlerSearchManagedBean.accountTypeSortingOrder == 1}" url="/images/ah_images/down.png" />
													<h:graphicImage style="margin-left: 10px;margin-bottom: 3px;" rendered="#{handlerSearchManagedBean.accountTypeSortingOrder == 2}" url="/images/ah_images/up.png" />
												</h:column>
												<h:column>
													<h:outputText value="View Details" />
												</h:column>
												<h:column>
													<h:outputText value="Edit" />
												</h:column>
											</rich:columnGroup>
										</f:facet>
										<h:column>
											<h:outputText value="#{model.userId}" />
										</h:column>
										<h:column>
											<h:outputText value="#{model.agentId}" />
										</h:column>
										<h:column>
											<h:outputText value="#{model.agentName}" />
										</h:column>
										<h:column>
											<h:outputText value="#{model.handlerName}" />
										</h:column>
										<h:column>
											<h:outputText value="#{model.userName}" />
										</h:column>
										<h:column>
											<h:outputText value="#{model.contactNo}" />
										</h:column>
										<h:column>
											<h:outputText value="#{model.areaName}" />
										</h:column>
										<h:column>
											<h:outputText value="#{model.accountClosed}" />
										</h:column>
										<h:column>
											<h:outputText value="#{model.olaCustomerAccountTypeName}"></h:outputText>
										</h:column>
										<h:column>
											<h:outputLink value="p_handleraccountdetails.html" title="View Details">
												<f:param name="handlerId" value="#{model.handlerId}" />
												<h:graphicImage url="/images/ah_images/view_details_16.png" alt="View Details" />
											</h:outputLink>
										</h:column>
										<h:column>
											<a4j:outputPanel style="text-align:center;">
												<h:outputLink value="p_addhandler.jsf" title="Edit">
													<f:param name="handlerId" value="#{model.handlerId}" />
													<h:graphicImage url="/images/ah_images/edit.png" />
												</h:outputLink>
											</a4j:outputPanel>
										</h:column>
									</rich:dataTable>
								</div>
								<div align="center">
									<rich:dataScroller id="dataScroller" for="handlerDataTable" render="handlerDataTable" />
								</div>
							</div>
						</td>
					</tr>
					<tr>
						<td id="status_bar_bottom">
							<div>
								<a4j:outputPanel styleClass="infoMessage" ajaxRendered="true">
									<h:outputText style="color:#0e385f;" value="#{infoMessage}" />
								</a4j:outputPanel>
							</div>
						</td>
					</tr>
					<tr>
						<td>
							<div id="footer"></div>
						</td>
					</tr>
				</table>
			</div>
		</h:form>
		<div class="status">
			<a4j:status>
				<f:facet name="start">
					<h:graphicImage url="/images/ah_images/tabs_loader.gif" style="border:0px;" />
				</f:facet>
				<f:facet name="stop"></f:facet>
			</a4j:status>
		</div>
	</f:view>
	<script type="text/javascript" src="#{request.contextPath}/scripts/searchFormValidator.js"></script>
</h:body>
</html>